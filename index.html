<!DOCTYPE html>
<!-- This is the main HTML file for the Linear Regression Pizza Party Prediction web page. -->
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Linear Regression: Pizza Party Predictions</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: url("https://img.freepik.com/free-vector/seamless-pattern-with-school-office-stationery_107791-9568.jpg?t=st=1738748273~exp=1738751873~hmac=d9661970ab1ecdfc9e27e7175964a4dd11348efe425cebbb98358e2b68142e48&w=740");
            color: #333;
            line-height: 1.6;
        }

        .name-section {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: #ffebcc;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }

        .name-input {
            padding: 10px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        .start-button {
            padding: 10px 15px;
            font-size: 16px;
            border: none;
            background-color: #ff9800;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }

        .start-button:hover {
            background-color: #e68900;
        }

        .hidden {
            display: none;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            background: #fcf1ee;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0px 15px 15px rgba(0, 0, 0, 50);
        }

        h1 {
            color: #2c3e50;
            font-size: 26px;
        }

        h2 {
            text-align: left;
            color: #2c3e50;
        }

        p {
            text-align: left;
        }

        .highlight {
            background: #f1c40f;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }

        .formula {
            background: #ecf0f1;
            padding: 10px;
            font-weight: bold;
            font-size: 1.1em;
            border-radius: 5px;
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        table,
        th,
        td {
            border: 1px solid #bdc3c7;
            padding: 10px;
            text-align: center;
        }

        th {
            background: #e47753;
            color: #fff;
        }

        .question-container {
            background-color: #e477533b;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin: 10px auto;
            width: 100%;
            max-width: 700px;
            transition: all 0.3s ease;
        }

        .question-title {
            font-size: 1em;
            font-weight: bold;
            color: #fa6a04;
            text-align: left;
            margin: 5px;
        }

        .question-text {
            font-size: 1em;
            color: #34495e;
            margin: 5px 0;
            text-align: left;
        }

        .question-options {
            margin-top: 20px;
            background-color: #ecf0f1;
            padding: 5px;
            border-radius: 8px;
            box-shadow: inset 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        .question-option {
            display: block;
            font-size: 1em;
            color: #34495e;
            margin-bottom: 12px;
            padding: 3px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .question-option:hover {
            background-color: #e47753;
            color: white;
        }

        .option-text {
            margin-left: 8px;
        }

        .question-option input[type="radio"] {
            vertical-align: middle;
            margin-right: 15px;
        }

        .submit-button {
            background-color: #2ecc71;
            color: white;
            padding: 12px 20px;
            border-radius: 6px;
            font-size: 1em;
            border: none;
            cursor: pointer;
            display: block;
            margin-top: 20px;
            margin-left: auto;
            margin-right: auto;
            width: 25%;
            transition: background-color 0.3s ease;
        }

        .submit-button:hover {
            background-color: #27ae60;
        }

        /* Feedback Text Styles */
        .feedback-text {
            margin-top: 5px;
            /* Adds space between the question and feedback */
            border-radius: 5px;
            /* Rounds the corners of the feedback box */
            font-size: 16px;
            /* Sets the font size */
            line-height: 1.5;
            /* Increases line spacing for better readability */
            font-family: Arial, sans-serif;
            /* Defines the font family */
            padding: 5px;
        }

        /* Success Feedback */
        .feedback-text.success {
            background-color: #d4edda;
            /* Light green background */
            color: #155724;
            /* Dark green text */
            border: 1px solid #c3e6cb;
            /* Light green border */
        }

        /* Error Feedback */
        .feedback-text.error {
            background-color: #f8d7da;
            /* Light red background */
            color: #721c24;
            /* Dark red text */
            border: 1px solid #f5c6cb;
            /* Light red border */
        }

        /* Default Feedback */
        .feedback-text.default {
            background-color: #fff3cd;
            /* Light yellow background */
            color: #856404;
            /* Dark yellow text */
            border: 1px solid #ffeeba;
            /* Light yellow border */
        }

        /* Spinner CSS */
        .spinner {
            border: 4px solid #f3f3f3;
            /* Light grey */
            border-top: 4px solid #3498db;
            /* Blue */
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
            display: none;
            /* Initially hidden */
            margin: 20px auto;
        }

        /* Spinner animation */
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>

    <!-- Name Input Section -->
    <div class="name-section" id="name-section">
        <h2>Hey there! üëã Before we start...</h2>
        <p>Let's make this fun! What's your name? ü§©</p>
        <input type="text" id="user-name" class="name-input" placeholder="Enter your name here">
        <button class="start-button" onclick="startLesson()">Start Learning! üöÄ</button>
    </div>

    <!-- Main Content (Initially Hidden) -->
    <div id="main-content" class="hidden">
        <div class="container">

            <h1 id="welcome-message">Linear Regression: Predicting Relationships the Fun Way üçïüìä</h1>

            <h2>The Story: Pizza Party Predictions üéâüçï</h2>
            <p>Imagine you're throwing a pizza party for your friends. You know the more friends you invite, the more
                pizzas
                you'll need. But how many pizzas? If you invite 5 friends, will 3 pizzas be enough, or will you need 4?
                And
                what if you invite 10 friends? You don't want to run out of pizza halfway through the party, right?</p>
            <p>You start noticing a pattern: each additional friend you invite seems to require just one more pizza.
                With
                each new friend, the number of pizzas you need increases linearly. This gives you a clue: <span
                    class="highlight">Linear regression</span> could help you predict how many pizzas you'll need based
                on
                the number of friends.</p>

            <h2>Introducing Linear Regression: A Handy Prediction Tool ü§ñ</h2>

            <p>In real life, this is exactly what linear regression does. It helps you find relationships between
                variables‚Äîlike the relationship between the number of friends you invite (the independent variable) and
                the
                number of pizzas you need (the dependent variable). Essentially, linear regression helps you predict a
                dependent variable using one or more independent variables.
                <br>So, for our pizza party, linear regression helps you predict the number of pizzas based on how many
                people
                you're expecting. And the cool part? We can use math to create a model that predicts this relationship!
            </p>

            <h2>The Mathematical Model for Simple Linear Regression üìè</h2>
            <p>In Simple Linear Regression, we use a formula to describe the relationship between the number of friends
                and
                the number of pizzas. This formula looks like this:</p>

            <div class="formula">Y = Œ≤‚ÇÄ + Œ≤‚ÇÅX</div>
            <p>Where:</p>
            <ul>
                <li><strong>Y</strong>: Predicted number of pizzas (dependent variable).</li>
                <li><strong>X</strong>: Number of friends (independent variable)</li>
                <li><strong>Œ≤‚ÇÄ</strong>: Intercept, which tells us how many pizzas we need even if no friends show up
                    (the
                    starting point)</li>
                <li><strong>Œ≤‚ÇÅ</strong>: Slope, showing how many additional pizzas are needed for each new friend
                    invited.
                </li>
            </ul>

            <p>This formula tells us the relationship between X (friends) and Y (pizzas). In our case, it could be:</p>
            <div class="formula">Y = 1 + 0.5X</div>

            <p>This means:</p>
            <ul>
                <li>Even if no friends show up (X = 0), we still need 1 pizza (Œ≤‚ÇÄ = 1).</li>
                <li>For each friend you invite, you need an extra 0.5 pizza (Œ≤‚ÇÅ = 0.5).</li>
            </ul>

            <h3>Worked-Out Examples: Using the Equation for Predictions üìä</h3>

            <h4>Scenario 1: 5 Friends</h4>
            <p>If you invite 5 friends, we substitute X = 5 into the equation:</p>
            <div class="formula">Y = 1 + 0.5(5) = 1 + 2.5 = 3.5 pizzas</div>

            <h4>Scenario 2: 10 Friends</h4>
            <p>If you invite 10 friends, substitute X = 10 into the equation:</p>
            <div class="formula">Y = 1 + 0.5(10) = 1 + 5 = 6 pizzas</div>

            <h4>Scenario 3: 0 Friends</h4>
            <p>What if you have no friends coming over? You'd still need at least 1 pizza for yourself:</p>
            <div class="formula">Y = 1 + 0.5(0) = 1 + 0 = 1 pizza</div>

            <p>Even with no friends, at least one pizza is necessary!</p>

            <!-- Question 1 -->
            <div class="question-container" data-question-id="Q1">
                <h4 class="question-title">Try this out ü§î</h4>
                <p class="question-text">A husband wants to predict how much his wife will spend based on the amount of
                    time
                    she spends in the shop.</p>
                <p class="question-text"><strong>Which of the following is the independent and dependent
                        variable?</strong></p>

                <form class="question-form">
                    <div class="question-options">
                        <label class="question-option">
                            <input type="radio" name="answerQ1" value="A">
                            <span class="option-text">A: Independent variable: Amount of money spent, Dependent
                                variable:
                                Time spent in the shop</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ1" value="B">
                            <span class="option-text">B: Independent variable: Time spent in the shop, Dependent
                                variable:
                                Amount of money spent</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ1" value="C">
                            <span class="option-text">C: Independent variable: Time of day, Dependent variable: Time
                                spent
                                in the shop</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ1" value="D">
                            <span class="option-text">D: Independent variable: Amount of money spent, Dependent
                                variable:
                                Time of day</span>
                        </label>
                    </div>

                    <button type="submit" class="submit-button">Check Answer</button>
                </form>

                <div class="feedback-text" id="feedback-Q1"></div>
            </div>
            <!-- Question 2 -->
            <div class="question-container" data-question-id="Q2">
                <h4 class="question-title">Try this out ü§î</h4>
                <p class="question-text">Based on past experiences, the husband creates a formula to predict how
                    much his
                    wife will spend based on the amount of time she spends in the shop. The formula is as follows:
                </p>
                <p class="question-text"><strong>Spending = 20 + 30 * Time spent in the shop (in hours)</strong></p>
                <p class="question-text"><strong>If the husband predicts that his wife will spend 3 hours in the
                        shop, how
                        much will she spend?</strong></p>

                <form class="question-form">
                    <div class="question-options">
                        <label class="question-option">
                            <input type="radio" name="answerQ2" value="A">
                            <span class="option-text">A: $20</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ2" value="B">
                            <span class="option-text">B: $80</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ2" value="C">
                            <span class="option-text">C: $110</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ2" value="D">
                            <span class="option-text">D: $90</span>
                        </label>
                    </div>

                    <button type="submit" class="submit-button">Check Answer</button>
                </form>

                <div class="feedback-text" id="feedback-Q2"></div>
            </div>
            <!-- Question 3 -->
            <div class="question-container" data-question-id="Q3">
                <h4 class="question-title">Try this out ü§î</h4>
                <p class="question-text"><strong>How many variables are required to represent a simple linear
                        regression model?</strong></p>

                <form class="question-form">
                    <div class="question-options">
                        <label class="question-option">
                            <input type="radio" name="answerQ3" value="A">
                            <span class="option-text">A: 3</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ3" value="B">
                            <span class="option-text">B: 2</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ3" value="C">
                            <span class="option-text">C: 1</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ3" value="D">
                            <span class="option-text">D: 4</span>
                        </label>
                    </div>

                    <button type="submit" class="submit-button">Check Answer</button>
                </form>

                <div class="feedback-text" id="feedback-Q3"></div>
            </div>

            <!-- Question 4 -->
            <div class="question-container" data-question-id="Q4">
                <h4 class="question-title">Try this out ü§î</h4>
                <p class="question-text"><strong>Analysis produces the equation Y = -3.2X + 7. This indicates
                        that:</strong></p>

                <form class="question-form">
                    <div class="question-options">
                        <label class="question-option">
                            <input type="radio" name="answerQ4" value="A">
                            <span class="option-text">A: A 1 unit increase in X results in a 3.2 unit decrease in
                                Y.</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ4" value="B">
                            <span class="option-text">B: A 1 unit decrease in X results in a 3.2 unit decrease in
                                Y.</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ4" value="C">
                            <span class="option-text">C: A 1 unit increase in X results in a 3.2 unit increase in
                                Y.</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ4" value="D">
                            <span class="option-text">D: An X value of 0 would increase Y by 7.</span>
                        </label>
                    </div>

                    <button type="submit" class="submit-button">Check Answer</button>
                </form>

                <div class="feedback-text" id="feedback-Q4"></div>
            </div>



            <h2>Finding the Values of Œ≤‚ÇÄ and Œ≤‚ÇÅ: How Do We Know What They Are? üîç</h2>
            <p>In the previous example, we made an assumption about the values of Œ≤‚ÇÄ and Œ≤‚ÇÅ. But what if we didn't know
                these values beforehand? How would we find them?</p>

            <h3>Using Data to Determine Œ≤‚ÇÄ and Œ≤‚ÇÅ</h3>
            <p>To figure out the values of Œ≤‚ÇÄ and Œ≤‚ÇÅ, we need some real data. Let's say we have the following data from
                your
                last 5 pizza parties:</p>

            <table>
                <tr>
                    <th>Number of Friends (X)</th>
                    <th>Number of Pizzas (Y)</th>
                </tr>
                <tr>
                    <td>2</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>3.5</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>4.5</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>5.5</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>6.5</td>
                </tr>
            </table>

            <p>Using this table, we need to find the line that best fits this data. We will calculate Œ≤‚ÇÄ and Œ≤‚ÇÅ
                (intercept
                and slope) based on the relationship between X (number of friends) and Y (number of pizzas).</p>

            <p>Now, the actual process of determining Œ≤‚ÇÄ and Œ≤‚ÇÅ using this data will be covered later in more detail (in
                an
                upcoming section) because it involves some math that we'll explain step-by-step. For now, just know that
                these values are key to building an accurate prediction model.</p>

            <h2>Error or Cost Function: How Well Does Our Model Fit? üí°</h2>
            <p>Once we have the best-fit line (with our Œ≤‚ÇÄ and Œ≤‚ÇÅ), we need to check how well it predicts the actual
                number
                of pizzas. This is where the error comes in, and we use the cost function to measure the overall error
                of
                our model.</p>

            <h3>Mean Squared Error (MSE)</h3>
            <p>The cost function in linear regression is often calculated using <strong>Mean Squared Error
                    (MSE)</strong>,
                which tells us the average of the squared differences between the actual values (Y<sub>i</sub>) and the
                predicted values (≈∂<sub>i</sub>). The formula is:</p>

            <div class="formula">
                MSE = (1/n) Œ£ (Y<sub>i</sub> - ≈∂<sub>i</sub>)¬≤
            </div>

            <p>Where:</p>
            <ul>
                <li><strong>Y<sub>i</sub></strong>: Actual value (from our data table).</li>
                <li><strong>≈∂<sub>i</sub></strong>: Predicted value (from our model).</li>
                <li><strong>n</strong>: Number of data points.</li>
            </ul>

            <p>The lower the MSE, the better our model is at predicting the right number of pizzas!</p>

            <h3>Example: Calculating MSE</h3>
            <p>Let's say after finding our values of Œ≤‚ÇÄ = 1 and Œ≤‚ÇÅ = 0.5, we make predictions for each of the 5 data
                points.
                Here's how the predicted values would look:</p>

            <table>
                <tr>
                    <th>X (Friends)</th>
                    <th>Y (Actual Pizzas)</th>
                    <th>≈∂ (Predicted Pizzas)</th>
                    <th>Error (Y - ≈∂)</th>
                    <th>(Error)¬≤</th>
                </tr>
                <tr>
                    <td>2</td>
                    <td>2</td>
                    <td>2</td>
                    <td>0</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>3.5</td>
                    <td>3</td>
                    <td>0.5</td>
                    <td>0.25</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>4.5</td>
                    <td>4</td>
                    <td>0.5</td>
                    <td>0.25</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>5.5</td>
                    <td>5</td>
                    <td>0.5</td>
                    <td>0.25</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>6.5</td>
                    <td>6</td>
                    <td>0.5</td>
                    <td>0.25</td>
                </tr>
            </table>

            <p>Now, we sum the squared errors and divide by the number of data points:</p>

            <div class="formula">
                MSE = (0 + 0.25 + 0.25 + 0.25 + 0.25) / 5 = 1.25 / 5 = 0.25
            </div>

            <p>This gives us an <strong>MSE of 0.25</strong>, which is a good indication of how well our model fits the
                data.</p>

            <!-- Question 5 -->
            <div class="question-container" data-question-id="Q5">
                <h4 class="question-title">Try this out ü§î</h4>


                <p class="question-text"><strong>If the predicted value for Y (≈∂) is close to the actual value (Y), what
                        can we infer about the model's performance?</strong></p>

                <form class="question-form">
                    <div class="question-options">
                        <label class="question-option">
                            <input type="radio" name="answerQ5" value="A">
                            <span class="option-text">A: The model has a high MSE</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ5" value="B">
                            <span class="option-text">B: The model has a low MSE</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ5" value="C">
                            <span class="option-text">C: The model is inaccurate</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ5" value="D">
                            <span class="option-text">D: The model is overfitting</span>
                        </label>
                    </div>

                    <button type="submit" class="submit-button">Check Answer</button>
                </form>
                <div id="feedback-Q5" class="feedback-text"></div>
            </div>

            <!-- Question 6 -->
            <div class="question-container" data-question-id="Q6">
                <h4 class="question-title">Try this out ü§î</h4>

                <p class="question-text"><strong>In the example, what would be the squared error for the data point X =
                        4, Y
                        = 3.5, when Œ≤‚ÇÄ = 1 and Œ≤‚ÇÅ = 0.5?</strong></p>

                <form class="question-form">
                    <div class="question-options">
                        <label class="question-option">
                            <input type="radio" name="answerQ6" value="A">
                            <span class="option-text">A: 0</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ6" value="B">
                            <span class="option-text">B: 0.5</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ6" value="C">
                            <span class="option-text">C: 0.25</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ6" value="D">
                            <span class="option-text">D: 1</span>
                        </label>
                    </div>

                    <button type="submit" class="submit-button">Check Answer</button>
                </form>

                <!-- Feedback Container -->
                <div id="feedback-Q6" class="feedback-text"></div>
            </div>

            <h2>Expanding Our Model: Multiple Linear Regression üçïüìà</h2>
            <p>In our simple linear regression example, we looked at just one factor‚Äîthe number of friends invited‚Äîto
                figure
                out how many pizzas we'd need. But, let's be real, there are a lot more things to consider. Some friends
                might eat more than others, and the pizza size definitely matters. To make better predictions, we can
                use
                <strong>Multiple Linear Regression</strong>, which lets us include more than one factor.
            </p>

            <h2>From Simple to Multiple Linear Regression üîÑ</h2>
            <p>Before, our formula was pretty simple:</p>
            <div class="formula">
                Y = 1 + 0.5X
            </div>
            <p>Where:</p>
            <ul>
                <li><strong>Y</strong> is the number of pizzas needed</li>
                <li><strong>X</strong> is the number of friends invited</li>
                <li><strong>1</strong> is the baseline number of pizzas (the intercept)</li>
                <li><strong>0.5</strong> is how much pizza consumption increases for each additional friend (the slope)
                </li>
            </ul>
            <p>Now, let's make things a bit smarter by adding more relevant factors into the mix.</p>

            <h3>The General Formula for Multiple Linear Regression üßÆ</h3>
            <p>In Multiple Linear Regression, we can create a formula that includes multiple factors:</p>
            <div class="formula">
                Y = Œ≤‚ÇÄ + Œ≤‚ÇÅX‚ÇÅ + Œ≤‚ÇÇX‚ÇÇ + Œ≤‚ÇÉX‚ÇÉ + ... + Œ≤‚ÇôX‚Çô
            </div>
            <p>Where:</p>
            <ul>
                <li><strong>Y</strong> = The predicted number of pizzas üçï</li>
                <li><strong>X‚ÇÅ, X‚ÇÇ, X‚ÇÉ... X‚Çô</strong> = Different factors (things that affect pizza consumption)</li>
                <li><strong>Œ≤‚ÇÄ</strong> = The starting point (what happens when all factors are zero)</li>
                <li><strong>Œ≤‚ÇÅ, Œ≤‚ÇÇ, Œ≤‚ÇÉ... Œ≤‚Çô</strong> = How much each factor changes the prediction</li>
            </ul>
            <p>For our pizza party, let's think about some key factors:</p>
            <ul>
                <li><strong>X‚ÇÅ</strong> = Number of friends invited üë•</li>
                <li><strong>X‚ÇÇ</strong> = Average hunger level of friends (1-10 scale) üçî</li>
                <li><strong>X‚ÇÉ</strong> = Pizza size (in inches) üçï</li>
            </ul>

            <p>We're just going to assume values for Œ≤‚ÇÄ, Œ≤‚ÇÅ, Œ≤‚ÇÇ, and Œ≤‚ÇÉ right now to show how this works. The exact
                values
                will come later when we dig into Least Squares Estimation.</p>

            <h3>For now, let's say we're using these values:</h3>
            <div class="formula">
                Pizzas Needed = 1 + 0.5X‚ÇÅ + 0.75X‚ÇÇ - 0.3X‚ÇÉ
            </div>

            <h2>Making Predictions with Multiple Regression üéØ</h2>

            <h3>Scenario 1: A Small Gathering</h3>
            <p>X‚ÇÅ = 6 (6 friends invited)<br>
                X‚ÇÇ = 5 (They're kind of hungry)<br>
                X‚ÇÉ = 16 (Large pizzas)</p>
            <p>Plugging in those numbers:</p>
            <div class="formula">
                Pizzas Needed = 1 + (0.5 * 6) + (0.75 * 5) - (0.3 * 16)
                = 1 + 3 + 3.75 - 4.8
                = 2.95 ‚âà 3 pizzas
            </div>
            <p>So, for this group, 3 pizzas should be plenty! üéâ</p>

            <h3>Scenario 2: A Big Game Night üèàüçï</h3>
            <p>X‚ÇÅ = 12 (12 friends invited)<br>
                X‚ÇÇ = 9 (They're super hungry)<br>
                X‚ÇÉ = 12 (Medium-sized pizzas)</p>
            <p>Plugging these in:</p>
            <div class="formula">
                Pizzas Needed = 1 + (0.5 * 12) + (0.75 * 9) - (0.3 * 12)
                = 1 + 6 + 6.75 - 3.6
                = 10.15 ‚âà 10 pizzas
            </div>
            <p>Looks like you'll need 10 pizzas for this crew! üçïüôå</p>

            <h2>Measuring Accuracy: How Good is Our Model? üìè</h2>
            <p>Just like with simple regression, we can check how accurate our predictions are using <strong>Mean
                    Squared
                    Error (MSE)</strong>:</p>
            <div class="formula">
                MSE = (1/n) ‚àë(Y·µ¢ - ≈∂·µ¢)¬≤
            </div>
            <p>Where:</p>
            <ul>
                <li><strong>Y·µ¢</strong> = The actual number of pizzas needed</li>
                <li><strong>≈∂·µ¢</strong> = The predicted number of pizzas</li>
                <li><strong>n</strong> = The number of parties we're looking at</li>
            </ul>

            <p>A small MSE means our predictions are close to the real thing, while a big MSE means we might need to
                adjust
                our model (maybe some friends are hungrier than we thought!).</p>

            <!-- Question 7 -->
            <div class="question-container" data-question-id="Q7">
                <h4 class="question-title">Try this out ü§î</h4>

                <p class="question-text"><strong>If you wanted to predict how many pizzas are needed for a large
                        gathering
                        with 12 friends, an average hunger level of 9, and medium-sized pizzas (12 inches), which of the
                        following equations would you use?</strong></p>

                <form class="question-form">
                    <div class="question-options">
                        <label class="question-option">
                            <input type="radio" name="answerQ7" value="A">
                            <span class="option-text">A: Pizzas Needed = 1 + (0.5 * 12) + (0.75 * 9) - (0.3 * 12)</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ7" value="B">
                            <span class="option-text">B: Pizzas Needed = 1 + (0.75 * 12) + (0.5 * 9) - (0.3 * 12)</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ7" value="C">
                            <span class="option-text">C: Pizzas Needed = 1 + (0.5 * 6) + (0.75 * 5) - (0.3 * 16)</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ7" value="D">
                            <span class="option-text">D: Pizzas Needed = 1 + (0.75 * 12) + (0.5 * 9) + (0.3 * 12)</span>
                        </label>
                    </div>

                    <button type="submit" class="submit-button">Check Answer</button>
                </form>

                <!-- Feedback Container -->
                <div id="feedback-Q7" class="feedback-text"></div>
            </div>

            <!-- Question 8 -->
            <div class="question-container" data-question-id="Q8">
                <h4 class="question-title">Try this out ü§î</h4>
                <p class="question-text"><strong>You're trying to predict the rental price of an apartment using
                        multiple
                        factors, including size (in square feet), number of rooms, and neighborhood. You test two
                        models:</strong></p>
                <p><strong>Model A:</strong> Includes size and number of rooms.</p>
                <p><strong>Model B:</strong> Includes size, number of rooms, and neighborhood.</p>
                <p>After running both models, you find that Model B has a significantly higher R¬≤ value but also takes
                    longer to compute. What does this tell you?</p>

                <form class="question-form">
                    <div class="question-options">
                        <label class="question-option">
                            <input type="radio" name="answerQ8" value="A">
                            <span class="option-text">A: Model B is definitely the better model because it explains more
                                variance.</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ8" value="B">
                            <span class="option-text">B: Model A should be preferred because it's faster and
                                simpler.</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ8" value="C">
                            <span class="option-text">C: Model B might be overfitting the data by including too many
                                factors.</span>
                        </label>

                        <label class="question-option">
                            <input type="radio" name="answerQ8" value="D">
                            <span class="option-text">D: The R¬≤ value is irrelevant to choosing the best model.</span>
                        </label>
                    </div>

                    <button type="submit" class="submit-button">Check Answer</button>
                </form>

                <!-- Feedback Container -->
                <div id="feedback-Q8" class="feedback-text"></div>
            </div>


            <h3>Wrapping Up: Why Multiple Linear Regression Matters üéì</h3>
            <p>Now that we've moved from simple to multiple regression, you've got a much more powerful tool for making
                predictions. Whether you're figuring out how many pizzas to order, predicting home prices, or
                forecasting
                business sales, this kind of regression can help you make smarter decisions based on real data! üìä</p>
            <p>We used some example values for Œ≤‚ÇÄ, Œ≤‚ÇÅ, Œ≤‚ÇÇ, Œ≤‚ÇÉ, but in the real world, we calculate those using actual
                data
                and math tricks like Least Squares Estimation.</p>
            <p>Want to dive deeper into how we figure out those values..?</p>

            <!-- Button to trigger the data send -->
            <button id="sendDataBtn" class="submit-button">Complete</button>

            <!-- Loading spinner -->
            <div id="spinner" class="spinner"></div>

            <!-- Feedback message for submission status -->
            <div id="feedback"></div>


        </div>
    </div>
</body>

<script>

    // Global object to track user stats for all questions
    const userStats = {};
    const webAppUrl = "https://script.google.com/macros/s/AKfycbwy4db8cQZLcDDnbQUR_6UYNxGxroOjOU1nMijDPitQAT_ou4hvL9jhwHHGTCWsEiGX8A/exec";

    function startLesson() {
        let userName = document.getElementById("user-name").value.trim();

        if (userName === "") {
            alert("Oops! Please enter your name before starting! üòä");
            return;
        }

        userStats.userName = userName;
        // Personalize the welcome message
        document.getElementById("welcome-message").innerHTML = `Hey ${userName}! Welcome to Linear Regression: Predicting Relationships the Fun Way üçïüìä`;

        // Hide the name section and show the main content
        document.getElementById("name-section").style.display = "none";
        document.getElementById("main-content").classList.remove("hidden");
    }

    // Function to handle question attempts, time tracking, and storing data
    function handleQuestionFeedback(questionId, correctAnswer, feedbackData) {
        const form = document.querySelector(`[data-question-id="${questionId}"] .question-form`);
        const feedbackElement = document.querySelector(`#feedback-${questionId}`);
        const radioButtons = form.querySelectorAll(`input[name="answer${questionId}"]`);

        // Initialize tracking for this question
        if (!userStats[questionId]) {
            userStats[questionId] = {
                attempts: 0,
                startTime: null,
                endTime: null,
                totalTime: null,
                isSolved: false
            };
        }

        // Start timer when user first selects an option
        radioButtons.forEach((radio) => {
            radio.addEventListener("change", () => {
                if (userStats[questionId].startTime === null) {
                    userStats[questionId].startTime = new Date().getTime();
                }
            });
        });

        form.addEventListener("submit", function (event) {
            event.preventDefault(); // Prevent page reload

            let selectedOption = form.querySelector(`input[name="answer${questionId}"]:checked`);
            if (!selectedOption) {
                feedbackElement.innerText = "Please select an option before submitting.";
                feedbackElement.className = 'feedback-text default';
                return;
            }

            // Increment attempt count
            userStats[questionId].attempts += 1;

            let answerValue = selectedOption.value;
            let feedback = '';
            let feedbackClass = '';

            // Check if the answer is correct
            if (answerValue === correctAnswer) {
                userStats[questionId].endTime = new Date().getTime();
                userStats[questionId].totalTime = ((userStats[questionId].endTime - userStats[questionId].startTime) / 1000).toFixed(2); // Convert to seconds
                userStats[questionId].isSolved = true;

                feedback = feedbackData[answerValue].correct;
                feedbackClass = 'success';

            } else {
                feedback = feedbackData[answerValue].incorrect;
                feedbackClass = 'error';
            }

            // Display feedback (without showing stats in UI)
            feedbackElement.innerText = feedback;
            feedbackElement.className = `feedback-text ${feedbackClass}`;
        });
    }

    // Function to log all user stats on "Complete" button click
    // Function to send data
    function sendDataToSheet() {
        const formData = new FormData();

        // Disable the button to prevent multiple submissions
        const submitButton = document.getElementById('sendDataBtn');
        submitButton.disabled = true;
        submitButton.textContent = 'Submitting...';  // Optionally change button text

        // Show the loading spinner
        const spinner = document.getElementById('spinner');
        spinner.style.display = 'block'; // Show the spinner

        // Show loading feedback (Optional)
        const feedbackElement = document.getElementById('feedback');
        feedbackElement.textContent = 'Submitting your data... Please wait.';

        // Loop through userstat object and append each question data to the form
        Object.keys(userStats).forEach((key) => {
            const data = userStats[key];
            if (key !== 'userName') {
                formData.append(`${key}_attempts`, data.attempts);
                formData.append(`${key}_startTime`, data.startTime);
                formData.append(`${key}_endTime`, data.endTime);
                formData.append(`${key}_totalTime`, data.totalTime);
                formData.append(`${key}_isSolved`, data.isSolved);
            }
        });

        // Append user name
        formData.append('userName', userStats.userName);

        // Send the data to the Google Apps Script web app
        fetch(webAppUrl, {
            method: 'POST',
            body: formData
        })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
                // Provide success feedback to the user
                feedbackElement.textContent = 'Data saved successfully! Thankyou for completing the lesson.';
                alert('Data saved successfully!');
            })
            .catch((error) => {
                console.error('Error:', error);
                // Provide error feedback to the user
                feedbackElement.textContent = 'Failed to send data. Please try again later.';
                alert('Failed to send data.');
            })
            .finally(() => {
                // Re-enable the button after the request is complete
                submitButton.disabled = false;
                submitButton.textContent = 'Complete';  // Reset button text

                // Hide the spinner once the request is finished
                spinner.style.display = 'none';
            });
    }

    // Attach event listener to "Complete" button after the DOM is loaded
    document.addEventListener("DOMContentLoaded", function () {
        const completeButton = document.getElementById("sendDataBtn");
        if (completeButton) {
            completeButton.addEventListener("click", sendDataToSheet);
        }
    });

    // Questions
    const feedbackDataQ1 = {
        A: {
            correct: "Incorrect! The independent variable is the time spent in the shop, and the dependent variable is the amount of money spent.",
            incorrect: "Incorrect! The independent variable is the time spent in the shop (this is the variable that affects the dependent variable), and the dependent variable is the amount of money spent."
        },
        B: {
            correct: "Correct! The independent variable is the time spent in the shop, and the dependent variable is the amount of money spent.",
            incorrect: "Incorrect! The independent variable is the time spent in the shop, not the amount of money spent."
        },
        C: {
            correct: "Incorrect! The independent variable is time spent in the shop, not the time of day. The amount of money spent is the dependent variable.",
            incorrect: "Incorrect! The independent variable is not the time of day, it's the time spent in the shop."
        },
        D: {
            correct: "Incorrect! The time of day is not the independent variable in this context. The amount of money spent depends on the time spent in the shop.",
            incorrect: "Incorrect! The amount of money spent depends on the time spent in the shop, not on the time of day."
        }
    };

    const feedbackDataQ2 = {
        A: {
            correct: "Incorrect! The formula predicts spending based on 3 hours. The calculation is 20 + (30 * 3) = $110.",
            incorrect: "Incorrect! The calculation should be 20 + (30 * 3) = $110."
        },
        B: {
            correct: "Incorrect! The formula predicts spending based on 3 hours. The calculation is 20 + (30 * 3) = $110.",
            incorrect: "Incorrect! The formula should give $110, not $80."
        },
        C: {
            correct: "Correct! The formula predicts spending based on 3 hours. The calculation is 20 + (30 * 3) = $110.",
            incorrect: "Correct! The formula gives $110 when the time spent is 3 hours."
        },
        D: {
            correct: "Incorrect! The correct calculation is 20 + (30 * 3) = $110, not $90.",
            incorrect: "Incorrect! The correct calculation is $110, not $90."
        }
    };

    const feedbackDataQ3 = {
        A: {
            correct: "Incorrect! A simple linear regression model requires only two variables: the independent variable (X) and the dependent variable (Y).",
            incorrect: "Incorrect! A simple linear regression involves only 2 variables: the independent and dependent variables."
        },
        B: {
            correct: "Correct! A simple linear regression model requires 2 variables: one independent variable (X) and one dependent variable (Y).",
            incorrect: "Correct! A simple linear regression requires 2 variables: one independent (X) and one dependent (Y)."
        },
        C: {
            correct: "Incorrect! A simple linear regression model requires 2 variables. One is the independent variable and the other is the dependent variable.",
            incorrect: "Incorrect! You need both an independent variable and a dependent variable for simple linear regression."
        },
        D: {
            correct: "Incorrect! A simple linear regression requires only 2 variables, not 4.",
            incorrect: "Incorrect! There are only 2 variables in simple linear regression: independent and dependent."
        }
    };

    const feedbackDataQ4 = {
        A: {
            correct: "Correct! A 1 unit increase in X results in a 3.2 unit decrease in Y. This is because the slope is -3.2, indicating an inverse relationship.",
            incorrect: "Incorrect! The negative slope (-3.2) means that as X increases, Y decreases."
        },
        B: {
            correct: "Incorrect! A decrease in X does not result in a decrease in Y by 3.2 units. Instead, a decrease in X results in an increase in Y because of the negative slope.",
            incorrect: "Incorrect! A decrease in X would increase Y, as the slope is negative."
        },
        C: {
            correct: "Incorrect! The slope is -3.2, meaning a 1 unit increase in X results in a decrease in Y by 3.2 units.",
            incorrect: "Incorrect! The slope is negative, so an increase in X leads to a decrease in Y, not an increase."
        },
        D: {
            correct: "Correct! When X is 0, Y = 7, so Y would increase by 7 when X = 0.",
            incorrect: "Incorrect! When X is 0, the equation gives Y = 7, which means Y would increase to 7."
        }
    };

    const feedbackDataQ5 = {
        A: {
            correct: "Incorrect! A high MSE means that the predicted values are far from the actual values. If the predicted values are close to the actual values, the MSE would be low, not high.",
            incorrect: "Incorrect! The predicted values are close to the actual values, which would result in a low MSE, not a high one."
        },
        B: {
            correct: "Correct! A low MSE indicates that the predicted values are close to the actual values, meaning the model is performing well and making accurate predictions.",
            incorrect: "Incorrect! A low MSE suggests that the model's predicted values are close to the actual values. Therefore, the model is doing well, not poorly."
        },
        C: {
            correct: "Incorrect! If the predicted value for Y is close to the actual Y, it means the model is accurate, not inaccurate. An inaccurate model would have large errors between predicted and actual values.",
            incorrect: "Incorrect! A close predicted value means the model is accurate, not inaccurate. Inaccuracy would show as a large difference between predicted and actual values."
        },
        D: {
            correct: "Incorrect! Overfitting means the model fits the training data too closely but performs poorly on unseen data. A low MSE and close predictions suggest that the model is generalizing well, not overfitting.",
            incorrect: "Incorrect! If the predicted values are close to the actual values, overfitting is not the issue. Overfitting happens when a model performs well on training data but poorly on new data."
        }
    };

    const feedbackDataQ6 = {
        A: {
            correct: "Incorrect! The squared error is calculated as (actual Y - predicted Y)¬≤. Try recalculating the predicted value using the given equation.",
            incorrect: "Incorrect! You need to calculate the predicted Y using the formula YÃÇ = Œ≤‚ÇÄ + Œ≤‚ÇÅX and then find the squared error."
        },
        B: {
            correct: "Incorrect! Recalculate the predicted value using YÃÇ = Œ≤‚ÇÄ + Œ≤‚ÇÅX and then compute the squared error (actual Y - predicted Y)¬≤.",
            incorrect: "Incorrect! Make sure you correctly apply the formula and square the error difference."
        },
        C: {
            correct: "Correct! The predicted Y is calculated as YÃÇ = 1 + (0.5 √ó 4) = 3. The squared error is (3.5 - 3)¬≤ = 0.25.",
            incorrect: "Incorrect! Try recalculating the predicted Y and the squared error using the formula."
        },
        D: {
            correct: "Incorrect! A squared error of 1 would require a much larger difference between the actual and predicted values.",
            incorrect: "Incorrect! The squared error is calculated as (actual Y - predicted Y)¬≤. Make sure you're correctly applying the formula."
        }
    };

    const feedbackDataQ7 = {
        A: {
            correct: "Correct! This equation correctly accounts for the number of friends, hunger level, and pizza size, making it the best choice.",
            incorrect: "Incorrect! Try plugging in the values into each equation to see which one best predicts the number of pizzas."
        },
        B: {
            correct: "Incorrect! The coefficients in this equation are not structured correctly for this prediction.",
            incorrect: "Incorrect! Double-check the weight given to hunger level and number of friends."
        },
        C: {
            correct: "Incorrect! This equation uses incorrect values for the number of friends and hunger levels.",
            incorrect: "Incorrect! The variables in this equation don‚Äôt match the problem statement."
        },
        D: {
            correct: "Incorrect! The equation incorrectly adds the pizza size factor rather than subtracting it.",
            incorrect: "Incorrect! The last term should be subtracted rather than added."
        }
    };

    const feedbackDataQ8 = {
        A: {
            correct: "Incorrect! While Model B has a higher R¬≤, that doesn‚Äôt always mean it's the best model. It could be overfitting.",
            incorrect: "Incorrect! A high R¬≤ doesn‚Äôt guarantee that the model generalizes well to new data."
        },
        B: {
            correct: "Incorrect! Simplicity is good, but if Model B provides significantly better predictions, it may be worth the extra complexity.",
            incorrect: "Incorrect! Choosing a model isn‚Äôt just about speed; predictive accuracy matters too."
        },
        C: {
            correct: "Correct! A higher R¬≤ with more variables suggests possible overfitting. Model B may be capturing noise rather than just useful patterns.",
            incorrect: "Incorrect! A more complex model isn‚Äôt always better‚Äîoverfitting is a real concern."
        },
        D: {
            correct: "Incorrect! R¬≤ is a useful metric in evaluating models, but it shouldn't be the sole criterion for choosing a model.",
            incorrect: "Incorrect! The R¬≤ value is important, just not the only factor to consider."
        }
    };

    // Initialize feedback handling for Questions
    handleQuestionFeedback("Q1", "B", feedbackDataQ1);
    handleQuestionFeedback("Q2", "C", feedbackDataQ2);
    handleQuestionFeedback("Q3", "B", feedbackDataQ3);
    handleQuestionFeedback("Q4", "A", feedbackDataQ4);
    handleQuestionFeedback("Q5", "B", feedbackDataQ5);
    handleQuestionFeedback("Q6", "C", feedbackDataQ6);
    handleQuestionFeedback("Q7", "A", feedbackDataQ7);
    handleQuestionFeedback("Q8", "C", feedbackDataQ8);
</script>

</html>
